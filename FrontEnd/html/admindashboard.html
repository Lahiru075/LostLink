<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - LostLink</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../css/admindashboard.css">

</head>

<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon"><i class="fas fa-user-shield"></i></div>
                <h1 class="logo-text">LostLink</h1><span class="admin-tag">Admin</span>
            </div>
            <nav class="sidebar-nav">
                <p class="menu-title">OVERVIEW</p>
                <ul>
                    <li><a href="#" class="active"><i class="fas fa-chart-pie"></i><span>Dashboard</span></a></li>
                </ul>
                <p class="menu-title">MANAGEMENT</p>
                <ul>
                    <li><a href="usermanage.html"><i class="fas fa-users"></i><span>User Management</span></a></li>
                    <li><a href="alllostitemmanage.html"><i class="fas fa-box-open"></i><span>All Lost Items</span></a></li>
                    <li><a href="allfounditemmanage.html"><i class="fas fa-box"></i><span>All Found Items</span></a></li>
                    <li><a href="allmatchesmanage.html"><i class="fas fa-handshake"></i><span>All Matches</span></a></li>
                    <li><a href="allcontactrequest.html"><i class="fas fa-envelope-open-text"></i><span>Contact Requests</span></a></li>
                </ul>
                <p class="menu-title">CONTENT</p>
                <ul>
                    <li><a href="categorymanage.html"><i class="fas fa-tags"></i><span>Categories</span></a></li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="#" id="Admin_Profile"><i class="fas fa-user-circle"></i><span>Admin Profile</span></a>
                <a href="#" class="logout-btn" id="logoutBtn"><i class="fas fa-right-from-bracket"></i><span>Logout</span></a>
                <!-- ... logout button ... -->
            </div>
        </aside>

        <main class="main-content">
            <header class="main-header">
                <div class="header-title">
                    <h2>Dashboard</h2>
                    <p>Welcome, Admin! Here's the platform's status.</p>
                </div>
                <div class="header-actions">
                    
                    <div class="profile-info">
                        <img src="https://i.pravatar.cc/150?u=admin" alt="Admin Avatar"class="profile-avatar">
                        <span class="profile-name">Lahiru Lakshan</span>
                    </div>
                </div>
            </header>

            <section class="stats-overview">
                <div class="stat-card">
                    <div class="card-icon icon-users"><i class="fas fa-users"></i></div>
                    <div class="card-info"><span id="total-users">2,453</span>
                        <p>Total Users</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="card-icon icon-lost"><i class="fas fa-box-open"></i></div>
                    <div class="card-info"><span id="total-lost">1,289</span>
                        <p>Total Lost Items</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="card-icon icon-found"><i class="fas fa-box"></i></div>
                    <div class="card-info"><span id="total-found">971</span>
                        <p>Total Found Items</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="card-icon icon-success"><i class="fas fa-check-circle"></i></div>
                    <div class="card-info"><span id="total-recoveries">432</span>
                        <p>Successful Recoveries</p>
                    </div>
                </div>
            </section>

            <section class="data-grid">
                <div class="data-card">
                    <div class="data-card-header">
                            <h3>Reports Requiring Attention</h3>
                        </div>
                    <section class="info-card">
                        <div class="card-body" id="attentionReportsContainer">
                        </div>
                </section>
                </div>
                <div class="data-card">
                    <div class="data-card-header">
                        <h3>Recent Activity</h3>
                    </div>
                    <ul class="item-list" id="recentActivityList">
                        <li>
                            <div class="item-info"><strong>New user registered: Nimal P.</strong><small>2 hours
                                    ago</small></div>
                        </li>
                        <li>
                            <div class="item-info"><strong>New lost item reported: 'Black Wallet'</strong><small>3 hours
                                    ago</small></div>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- ===== NEW: RECENT RECOVERIES TABLE ===== -->
            <section class="table-card">
                <div class="data-card-header">
                    <h3>Recent Successful Recoveries</h3>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Item Name</th>
                            <th>Owner</th>
                            <th>Finder</th>
                            <th>Date Recovered</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="recentRecoveriesTableBody">
                        <tr>
                            <td>'Black Leather Wallet'</td>
                            <td>Lahiru S.</td>
                            <td>Kamal P.</td>
                            <td>2024-08-20</td>
                            <td><span class="status-tag status-recovered">Recovered</span></td>
                        </tr>
                        <tr>
                            <td>'Sony Headphones'</td>
                            <td>Sunil G.</td>
                            <td>Fathima R.</td>
                            <td>2024-08-18</td>
                            <td><span class="status-tag status-recovered">Recovered</span></td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
    </div>

    <div class="modal-overlay" id="profileModal">
        <div class="modal-content profile-modal">
            <!-- Modal Header -->
            <div class="modal-header">
                <h2 class="modal-title">Edit Profile</h2>
                <button class="close-modal-btn" id="closeProfileModalBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="modal-body">
                <form id="profileForm">
                    <!-- Profile Section -->
                    <div class="profile-section">
                        <div class="profile-picture-section">
                            <div class="profile-picture-wrapper">
                                <img src="" alt="Profile Picture" id="profileImagePreview">
                                <label for="profileImageInput" class="profile-picture-overlay">
                                    <i class="fas fa-camera"></i>
                                </label>
                                <input type="file" id="profileImageInput" accept="image/*" style="display: none;">
                            </div>
                            <div class="profile-info">
                                <h1 class="profile-name" id="profileNameDisplay"></h1>
                            </div>
                            <div class="profile-info">
                                <p class="profile-username" id="profileUsernameDisplay"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Basic Information Section -->
                    <div class="form-section">
                        <div class="form-section-header">
                            <h3 class="form-section-title">Basic Information</h3>
                        </div>
                        <div class="form-section-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="fullName">Full Name</label>
                                    <input type="text" id="fullName" name="fullName" class="form-control" placeholder="Enter your full name">
                                </div>
                                <div class="form-group">
                                    <label for="username">Username</label>
                                    <input type="text" id="username" name="username" class="form-control" placeholder="Enter your username">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="email">Email Address</label>
                                    <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email">
                                </div>
                                <div class="form-group">
                                    <label for="phoneNumber">Phone Number</label>
                                    <input type="tel" id="phoneNumber" name="phoneNumber" class="form-control" placeholder="Enter your phone number">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Security Section -->
                    <div class="form-section">
                        <div class="security-toggle" id="securityToggle">
                            <div class="security-toggle-left">
                                <div class="security-toggle-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <div class="security-toggle-text">
                                    <h4>Security & Password</h4>
                                    <p>Change your account password</p>
                                </div>
                            </div>
                            <i class="fas fa-chevron-down security-toggle-arrow"></i>
                        </div>
                        <div class="password-fields" id="passwordFields" style="display: none;">
                            <div class="form-row single">
                                <div class="form-group">
                                    <label for="currentPassword">Current Password</label>
                                    <div class="input-group">
                                        <input type="password" id="currentPassword" name="currentPassword" class="form-control" placeholder="Enter your current password">
                                        <i class="fas fa-eye toggle-password"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="newPassword">New Password</label>
                                    <div class="input-group">
                                        <input type="password" id="newPassword" name="newPassword" class="form-control" placeholder="Enter new password">
                                        <i class="fas fa-eye toggle-password"></i>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="confirmPassword">Confirm Password</label>
                                    <div class="input-group">
                                        <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="Confirm new password">
                                        <i class="fas fa-eye toggle-password"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-cancel" id="cancelBtn">Cancel</button>
                <button type="button" class="btn btn-save" id="saveBtn">Save Changes</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../js/admindashboard.js"></script>
</body>

</html>