<!-- dashboard.html file එකට මේ code එක සම්පූර්ණයෙන්ම paste කරන්න -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - LostLink</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../css/userdashboard.css">
</head>

<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header"><a href="#" class="logo-link"><i class="fas fa-link logo-icon"></i>
                    <h1 class="logo-text">LostLink</h1>
                </a></div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" class="active"><i class="fas fa-house"></i><span>Home</span></a></li>
                    <li><a href="lostitempage.html"><i class="fas fa-magnifying-glass-minus"></i><span>Lost
                                Items</span></a></li>
                    <li><a href="founditempage.html"><i class="fas fa-magnifying-glass-plus"></i><span>Found Items</span></a></li>
                    <li><a href="matches.html"><i class="fas fa-arrows-down-to-line"></i><span>Matches</span></a></li>
                    <li id="profileLink">
                        <a><i class="fas fa-user"></i><span>Profile</span></a></li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <a href="#" class="logout-btn" id="logoutBtn">
                    <i class="fas fa-right-from-bracket"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>
        <main class="main-content">
            <!-- <header class="main-header">
                <div class="header-search"><i class="fas fa-search"></i><input type="search"
                        placeholder="Search by keyword, category..."></div>
                <div class="header-actions">
                    <div class="action-icon notification-bell"><i class="fas fa-bell"></i><span
                            class="notification-badge"></span></div>
                    <div class="profile-dropdown">
                        <div class="profile-info"><img src="https://i.pravatar.cc/150?u=lahiru" alt="User Avatar"
                                class="profile-avatar"><span class="profile-name">Lahiru S.</span><i
                                class="fas fa-chevron-down"></i></div>
                        <div class="dropdown-menu"><a href="#"><i class="fas fa-user-circle"></i> Profile</a><a
                                href="#"><i class="fas fa-sign-out-alt"></i> Logout</a></div>
                    </div>
                </div>
            </header> -->

            <header class="main-header">
                <div class="header-search">
                    
                </div>
                <div class="header-actions">
                    <div class="action-icon notification-bell" id="notification-bell-container">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge" id="unread-notifications-count">0</span>
                        <!-- මෙතනින් පහළට තමයි notification dropdown එක එකතු කරන්නේ -->
                        <div id="notification-dropdown" class="notification-dropdown">
                            <div class="notification-header">
                                <h4>Notifications</h4>
                                <button id="mark-all-read-btn" class="btn btn-sm btn-outline-primary">Mark All Read</button>
                            </div>
                            <ul id="notification-list" class="list-group">
                                <!-- Notifications මෙතනට load වේවි -->
                                <li class="list-group-item text-center">Loading notifications...</li>
                            </ul>
                            <div class="notification-footer">
                                <a href="/notifications-page">View All</a> <!-- මේක ඔබේ dedicated notifications page එකට link කරන්න -->
                            </div>
                        </div>
                    </div>
                    <div class="profile-dropdown">
                        <div class="profile-info">
                            <div id="profile_infomation">
                                <img src="" alt="User Avatar" class="profile-avatar">
                                <span class="profile-name"></span>
                            </div>

                        </div>
                        <!-- <div class="dropdown-menu">
                            <a href="#"><i class="fas fa-user-circle"></i> Profile</a>
                            <a href="#" id="logout-button"><i class="fas fa-sign-out-alt"></i> Logout</a>
                        </div> -->
                    </div>
                </div>
            </header>

            <div class="welcome-banner">
                <h2>Welcome back, <span id="welcome-name"></span>! 👋</h2>
                <p>Ready to find what's lost? You can report a new item or check your existing matches.</p>
            </div>
            <section class="quick-actions">
                <button class="action-btn lost-btn"><a href="lostitempage.html"><i class="fas fa-plus-circle"></i> Report a Lost Item</a></button>
                <button class="action-btn found-btn"><a href="founditempage.html"><i class="fas fa-plus-circle"></i> Report a Found Item</a></button>
            </section>
            <section class="stats-overview">
                <div class="stat-card">
                    <div class="card-icon icon-reports"><i class="fas fa-file-alt"></i></div>
                    <div class="card-info">
                        <p>Active Reports</p><span id="activeReportsCount"></span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="card-icon icon-pending"><i class="fas fa-hourglass-half"></i></div>
                    <div class="card-info">
                        <p>Pending Matches</p><span id="pendingMatchesCount"></span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="card-icon icon-success"><i class="fas fa-check-circle"></i></div>
                    <div class="card-info">
                        <p>Successful Recoveries</p><span id="successfulRecoveriesCount"></span>
                    </div>
                </div>
            </section>
            <section class="recent-activity">
                <h3>Recent Activity</h3>
                <div class="activity-list" id="activityList">
        

            </div>
                <!-- <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon icon-match"><i class="fas fa-link"></i></div>
                        <div class="activity-details">
                            <p>New potential match for your <strong>'Black Leather Wallet'</strong></p><small>2 hours
                                ago</small>
                        </div><a href="#" class="btn-view">View</a>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon icon-accepted"><i class="fas fa-handshake"></i></div>
                        <div class="activity-details">
                            <p>Your contact request for <strong>'Sony Headphones'</strong> was accepted!</p><small>1 day
                                ago</small>
                        </div><a href="#" class="btn-view">View Contact</a>
                    </div>
                </div> -->
            </section>
        </main>
        <!-- ===== ALL NOTIFICATIONS MODAL ===== -->
        <div class="modal-overlay" id="allNotificationsModal">
            <div class="modal-content modal-md"> <!-- Medium size modal -->
                <div class="modal-header">
                    <h2>All Notifications</h2>
    <!-- Move the button to be the second element inside the header -->
                    <button class="close-modal-btn" id="closeAllNotificationsBtn">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- We will use the same styling as the dropdown list -->
                    <ul id="full-notification-list" class="notification-list">
                        <!-- All notifications will be loaded here by JavaScript -->
                        <li class="list-group-item text-center">Loading all notifications...</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ================================================== -->
        <!-- ===                PROFILE MODAL               === -->
        <!-- ================================================== -->
        
        <div class="modal-overlay" id="profileModal">
            <div class="modal-content profile-modal">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h2 class="modal-title">Edit Profile</h2>
                    <button class="close-modal-btn" id="closeProfileModalBtn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="modal-body">
                    <form id="profileForm">
                        <!-- Profile Section -->
                        <div class="profile-section">
                            <div class="profile-picture-section">
                                <div class="profile-picture-wrapper">
                                    <img src="" alt="Profile Picture" id="profileImagePreview">
                                    <label for="profileImageInput" class="profile-picture-overlay">
                                        <i class="fas fa-camera"></i>
                                    </label>
                                    <input type="file" id="profileImageInput" accept="image/*" style="display: none;">
                                </div>
                                <div class="profile-info">
                                    <h1 class="profile-name" id="profileNameDisplay">Lahiru Senanayake</h1>
                                </div>
                                <div class="profile-info">
                                    <p class="profile-username" id="profileUsernameDisplay">@lahiru_s</p>
                                </div>
                            </div>
                        </div>

                        <!-- Basic Information -->
                        <div class="form-section">
                            <div class="form-section-header">
                                <h3 class="form-section-title">Basic Information</h3>
                            </div>
                            <div class="form-section-body">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="fullName">Full Name</label>
                                        <input type="text" id="fullName" name="fullName" class="form-control" placeholder="Enter your full name">
                                    </div>
                                    <div class="form-group">
                                        <label for="username">Username</label>
                                        <input type="text" id="username" name="username" class="form-control" placeholder="Enter your username">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="email">Email Address</label>
                                        <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email">
                                    </div>
                                    <div class="form-group">
                                        <label for="phoneNumber">Phone Number</label>
                                        <input type="tel" id="phoneNumber" name="phoneNumber" class="form-control" placeholder="Enter your phone number">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Security Section -->
                        <div class="form-section">
                            <div class="security-toggle" id="securityToggle">
                                <div class="security-toggle-left">
                                    <div class="security-toggle-icon">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <div class="security-toggle-text">
                                        <h4>Security & Password</h4>
                                        <p>Change your account password</p>
                                    </div>
                                </div>
                                <i class="fas fa-chevron-down security-toggle-arrow"></i>
                            </div>
                            <div class="password-fields" id="passwordFields">
                                <div class="form-row single">
                                    <div class="form-group">
                                        <label for="currentPassword">Current Password</label>
                                        <!-- <input type="password" id="currentPassword" name="currentPassword" class="form-control" placeholder="Enter your current password"> -->
                                         <div class="input-group">
                                            <i class="fas fa-lock"></i> <!-- වම් පැත්තේ icon එක -->
                                            <input type="password" id="currentPassword" name="currentPassword" class="form-control" placeholder="Enter your current password">
                                            <!-- දකුණු පැත්තේ show/hide icon එක -->
                                            <i class="fas fa-eye toggle-password"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="newPassword">New Password</label>
                                        <div class="input-group">
                                            <i class="fas fa-key"></i>
                                            <input type="password" id="newPassword" name="newPassword" class="form-control" placeholder="Enter new password">
                                            <i class="fas fa-eye toggle-password"></i>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="confirmPassword">Confirm Password</label>
                                        <div class="input-group">
                                            <i class="fas fa-key"></i>
                                            <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="Confirm new password">
                                            <i class="fas fa-eye toggle-password"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-cancel" id="cancelBtn">Cancel</button>
                    <button type="button" class="btn btn-save" id="saveBtn">Save Changes</button>
                </div>
            </div>
        </div>

    </div>

    

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../js/userdashboard.js"></script>

</body>

</html>